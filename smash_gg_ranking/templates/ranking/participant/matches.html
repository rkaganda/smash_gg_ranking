{% extends 'base.html' %}
{% block title %}Ranking Player Matches{% endblock %}
{% block content %}
    <div class="container">
        <h2 style="color:white">
            <a href="/ranking/">Rankings</a>
                <span> > </span>
            <a href="/ranking/{{ ranking_data.id }}/participants/"> {{ranking_data.name}}</a>
                <span>> </span>
            <span> {{participant_data.gamertag}}</span>
        </h2>
        <p class="lead"></p>
        <table class="table table-striped table-dark">
            <thead>
            <tr>
                <th>Score</th>
                <th>Player</th><th>Points</th><th>Change</th>
                <th>Opponent</th><th>Points</th><th>Change</th>
            </tr>
            </thead>
            <tbody>
            {% for set in participant_sets %}
                {% if set.winner_id == participant_data.id %}
                    <tr>
                        <td><span style="color:green">{{set.winner_score}} - {{set.loser_score}}</span></td>
                        <!--
                        <td><a href="https://www.smash.gg/{{ set.winner_id | replace('_','/') }}" target="_blank">{{set.winner_gamertag}}</a></td>
                        -->
                        <td><span>{{set.winner_gamertag}}</span></td>
                        <td><span style="color:white">{{set.winner_points}}</span></td>
                        <td><span style="color:green">{{set.winner_change}}</span></td>
                        <td><a href="/ranking/{{ranking_data.id}}/participant/{{set.loser_id}}/matches" target="_blank">{{set.loser_gamertag}}</a></td>
                        <td><span style="color:white">{{set.loser_points}}</span></td>
                        <td><span style="color:red">{{set.loser_change}}</span></td>
                    </tr>
                {% else %}
                    <tr>
                        <td><span style="color:red">{{set.loser_score}} - {{set.winner_score}}</span></td>
                        <td><span>{{set.loser_gamertag}}</span></td>
                        <td><span style="color:white">{{set.loser_points}}</span></td>
                        <td><span style="color:red">{{set.loser_change}}</span></td>
                        <td><a href="/ranking/{{ranking_data.id}}/participant/{{set.winner_id}}/matches">{{set.winner_gamertag}}</a></td>
                        <td><span style="color:white">{{set.winner_points}}</span></td>
                        <td><span style="color:green">{{set.winner_change}}</span></td>
                    </tr>
                {% endif %}
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}